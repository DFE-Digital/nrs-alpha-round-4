{% extends "layout.html" %}

{% block pageTitle %}
Step by step navigation
{% endblock %}

{% block pageScripts %}
<script src="/public/javascripts/step-by-step-navigation.js"></script>
<script type="text/javascript">
  var $element = $('#step-by-step-navigation')
  var stepByStepNavigation = new GOVUK.Modules.StepByStepNavigation()
  stepByStepNavigation.start($element)
</script>
{% endblock %}

{% block beforeContent %}
<div class="govuk-breadcrumbs">
  <ol class="govuk-breadcrumbs__list">
    <li class="govuk-breadcrumbs__list-item">
      Home
    </li>
  </ol>
</div>
{% endblock %}

{% block content %}

<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">
    <h1 class="govuk-heading-l">
      Retrain to be <span id="anora"></span> <span style="text-transform:lowercase;" class="title"></span>: step by step
    </h1>
    <p>
      Check what you need to do to retrain to be a <span style="text-transform:lowercase;" class="title"></span>.
    </p>

    <div id="step-by-step-navigation" class="app-step-nav app-step-nav--large app-step-nav--active" data-show-text="Show" data-hide-text="Hide" data-show-all-text="Show all" data-hide-all-text="Hide all">
      <ol id="list" class="app-step-nav__steps">
        <li class="app-step-nav__step js-step" id="check-youre-allowed-to-drive">
          <div class="app-step-nav__header js-toggle-panel" data-position="1">
            <h2 class="app-step-nav__title">
              <span class="app-step-nav__circle app-step-nav__circle--number">
                <span class="app-step-nav__circle-inner">
                  <span class="app-step-nav__circle-background">
                    <span class="govuk-visually-hidden">Step</span> 1
                  </span>
                </span>
              </span>

              <span class="js-step-title">
                Understand yourself
              </span>
              <span style="color:grey; font-weight: 200; font-size:0.8em;"> &mdash; Completed</span>

            </h2>
          </div>

          <div class="app-step-nav__panel js-panel js-hidden" id="step-panel-check-youre-allowed-to-drive-1">
            <span class="app-step-nav__context">£34 to £43</span>
            <ol class="app-step-nav__list " data-length="3">
              <li class="app-step-nav__list-item js-list-item ">
                <a data-position="1.1" class="app-step-nav__link js-link" href="./skills-start">Understand what you're good at</a>
              </li>
              <li class="app-step-nav__list-item js-list-item ">
                <a data-position="1.2" class="app-step-nav__link js-link" href="./results">See jobs you could do</a>
              </li>
            </ol>
          </div>

        </li>

        <li class="app-step-nav__step js-step" id="driving-lessons-and-practice">
          <div class="app-step-nav__header js-toggle-panel" data-position="3">
            <h2 class="app-step-nav__title">
              <span class="app-step-nav__circle app-step-nav__circle--number">
                <span class="app-step-nav__circle-inner">
                  <span class="app-step-nav__circle-background">
                    <span class="govuk-visually-hidden">Step</span> 2
                  </span>
                </span>
              </span>

              <span class="js-step-title">
                Study communication level 3
              </span>
            </h2>
          </div>

          <div class="app-step-nav__panel js-panel" id="step-panel-driving-lessons-and-practice-3">
            <ol class="app-step-nav__list " data-length="4">
              <li class="app-step-nav__list-item js-list-item ">
                <a data-position="5.4" class="app-step-nav__link js-link" href="./communication">Find a course </a>
                <p class="app-step-nav__paragraph" style="color:grey;">part time (10 weeks) or full time (2 weeks)</p>
              </li>
            </ol>
          </div>

        </li>

        <li class="app-step-nav__step js-step" id="prepare-for-your-theory-test">
          <div class="app-step-nav__header js-toggle-panel" data-position="4">
            <h2 class="app-step-nav__title">
              <span class="app-step-nav__circle app-step-nav__circle--logic">
                <span class="app-step-nav__circle-inner">
                  <span class="app-step-nav__circle-background">
                    and
                  </span>
                </span>
              </span>

              <span class="js-step-title">
                Study english level 2
              </span>
            </h2>
          </div>

          <div class="app-step-nav__panel js-panel js-hidden" id="step-panel-book-and-manage-your-theory-test-5">
            <ol class="app-step-nav__list " data-length="5">
              <li class="app-step-nav__list-item js-list-item ">
                <a data-position="5.4" class="app-step-nav__link js-link" href="./english">
                  Find a course
                </a>
                <p class="app-step-nav__paragraph" style="color:grey;">part time (10 weeks) or full time (2 weeks)</p>
              </li>
            </ol>
          </div>

        </li>

        <li class="app-step-nav__step js-step" id="book-and-manage-your-theory-test">
          <div class="app-step-nav__header js-toggle-panel" data-position="5">
            <h2 class="app-step-nav__title">
              <span class="app-step-nav__circle app-step-nav__circle--logic">
                <span class="app-step-nav__circle-inner">
                  <span class="app-step-nav__circle-background">
                    and
                  </span>
                </span>
              </span>

              <span class="js-step-title">
                Study maths level 2
              </span>
            </h2>
          </div>

          <div class="app-step-nav__panel js-panel js-hidden" id="step-panel-book-and-manage-your-theory-test-5">

            <ol class="app-step-nav__list " data-length="5">
              <li class="app-step-nav__list-item js-list-item ">
                <a data-position="5.4" class="app-step-nav__link js-link" href="./maths">
                  Find a course
                </a>
                <p class="app-step-nav__paragraph" style="color:grey;">part time (10 weeks) or full time (2 weeks)</p>
              </li>
            </ol>
          </div>
        </li>
        <li class="app-step-nav__step js-step" id="apprenticeship">
          <div class="app-step-nav__header js-toggle-panel" data-position="5">
            <h2 class="app-step-nav__title">
              <span class="app-step-nav__circle app-step-nav__circle--number">
                <span class="app-step-nav__circle-inner">
                  <span class="app-step-nav__circle-background">
                    3
                  </span>
                </span>
              </span>

              <span class="js-step-title">
                Enrol in an apprenticeship
              </span>
            </h2>
          </div>

          <div class="app-step-nav__panel js-panel js-hidden" id="step-panel-book-and-manage-your-theory-test-5">
            <div class="app-step-nav__panel js-panel js-hidden" id="step-panel-book-and-manage-your-driving-test-6">
              <div class="govuk-warning-text">
                <span class="govuk-warning-text__icon" aria-hidden="true">!</span>
                <strong class="govuk-warning-text__text">
                  <span class="govuk-warning-text__assistive">Warning</span>
                  Complete the training from step 2.
                </strong>
              </div>

            </div>
          </div>


        </li>
        <li class="app-step-nav__step js-step" id="book-and-manage-your-theory-test">
          <div class="app-step-nav__header js-toggle-panel" data-position="4">
            <h2 class="app-step-nav__title">
              <span id="circle" class="app-step-nav__circle app-step-nav__circle--logic">
                <span class="app-step-nav__circle-inner">
                  <span id="count" class="app-step-nav__circle-background">
                    or
                  </span>
                </span>
              </span>
              <span class="js-step-title">
                Find a job
              </span>
            </h2>
          </div>

          <div class="app-step-nav__panel js-panel js-hidden" id="step-panel-book-and-manage-your-driving-test-6">
            <ol class="app-step-nav__list " data-length="5">
              <li class="app-step-nav__list-item js-list-item ">
                <a data-position="6.1" class="app-step-nav__link js-link" href="./results">
                  Change your target job
                </a>
              </li>
              <li class="app-step-nav__list-item js-list-item ">
                <a data-position="6.1" class="app-step-nav__link js-link" href="#">
                  Apply for jobs
                </a>
              </li>
              <li class="app-step-nav__list-item js-list-item ">
                <a data-position="6.2" class="app-step-nav__link js-link" href="#">
                  Preparing for an interview
                </a>
              </li>
            </ol>
          </div>
        </li>



      </ol>
    </div>

  </div>
  <div class="govuk-grid-column-one-third">
    <h1 class="govuk-heading-m">Get help to choose what's right for you</h1>
    <ul class="govuk-list">
      <li>
        <p>
          <a href="./end">Speak to a careers advisor</a>
        </p>
      </li>
      <li>
        <p>
          <a href="./end">Get a brochure</a>
        </p>
      </li>
    </ul>
    <hr class="govuk-section-break govuk-section-break--ml govuk-section-break--visible govuk-!-margin-bottom-6">

    <h1 class="govuk-heading-s">Send yourself a copy of this page</h1>
    <div class="govuk-form-group">
      <label class="govuk-label" for="email">
        Email address
      </label>
      <span id="email-hint" class="govuk-hint">
        We’ll only use this to send you these results
      </span>
      <input class="govuk-input" id="email" name="email" type="email" aria-describedby="email-hint">
      <a href="./end" role="button" draggable="false" class="govuk-button govuk-!-margin-top-2 govuk-!-margin-bottom-8">
        Send
      </a>
    </div>
  </div>
</div>
<script type="text/javascript">
  // get data from nunjucks
  var data = {{data | dump | safe}};

  // get chosen job from localStorage
  var index = JSON.parse(localStorage.getItem('user'));

  var title = document.getElementsByClassName('title');

  var anora = document.getElementById('anora');
  anora.innerText = data[index].anora

  if (data[index].app != true) {
    var apprenticeship = document.getElementById('apprenticeship');
    var circle = document.getElementById('circle');
    var count = document.getElementById('count');

    apprenticeship.parentNode.removeChild(apprenticeship);
    circle.classList.remove('app-step-nav__circle--logic');
    circle.classList.add('app-step-nav__circle--number');
    count.innerText = 3

  }

  Array.from(title).map(title => {
    title.innerText = data[index].name
  })




  document.addEventListener('DOMContentLoaded', function() {
    var buttons = document.getElementsByClassName('app-step-nav__button');
    eventFire(buttons[2], 'click');
  }, false);
</script>
{% endblock %}
